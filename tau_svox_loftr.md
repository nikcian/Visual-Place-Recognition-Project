--- TABELLA TRADE-OFF (SVOX Night (Training)) ---
Tau   | Recall   | Saving   | Note
---------------------------------------------
0     | 23.6%   | 94.1%   | 
5     | 23.8%   | 93.6%   | 
10    | 38.0%   | 58.6%   | 
15    | 47.2%   | 43.0%   | 
20    | 49.6%   | 38.5%   | 
25    | 51.0%   | 35.5%   | 
30    | 53.6%   | 32.4%   | 
35    | 55.1%   | 30.2%   | 
40    | 56.6%   | 28.3%   | 
45    | 58.0%   | 26.3%   | 
50    | 59.1%   | 24.8%   | 
55    | 59.8%   | 23.7%   | 
60    | 60.5%   | 22.3%   | 
65    | 61.5%   | 20.6%   | 
70    | 62.1%   | 19.3%   | 
75    | 62.5%   | 18.1%   | 
80    | 62.7%   | 17.8%   | 
85    | 62.7%   | 16.9%   | 
90    | 63.4%   | 15.7%   | 
95    | 63.7%   | 14.9%   | 
100   | 63.7%   | 14.1%   | 
---------------------------------------------



--- TABELLA TRADE-OFF (SVOX Sun (Training)) ---
Tau   | Recall   | Saving   | Note
---------------------------------------------
0     | 36.8%   | 94.0%   | 
5     | 36.9%   | 93.7%   | 
10    | 42.8%   | 82.0%   | 
15    | 49.6%   | 71.0%   | 
20    | 52.7%   | 65.6%   | 
25    | 54.4%   | 63.3%   | 
30    | 55.8%   | 61.7%   | 
35    | 56.6%   | 60.5%   | 
40    | 57.9%   | 59.0%   | 
45    | 59.4%   | 57.0%   | 
50    | 60.7%   | 54.6%   | 
55    | 62.2%   | 52.7%   | 
60    | 63.2%   | 50.8%   | 
65    | 63.8%   | 48.9%   | 
70    | 65.0%   | 46.4%   | 
75    | 66.2%   | 44.8%   | 
80    | 66.7%   | 43.5%   | 
85    | 68.0%   | 41.5%   | 
90    | 68.5%   | 40.3%   | 
95    | 69.2%   | 38.7%   | 
100   | 69.9%   | 37.8%   | 
---------------------------------------------




## Scelta: tau = 30



sf_xs (Validation)
--- TABELLA TRADE-OFF (sf_xs (Validation)) ---
Tau   | Recall   | Saving   | Note
---------------------------------------------
0     | 69.9%   | 94.1%   | 
5     | 69.9%   | 94.1%   | 
10    | 71.5%   | 90.7%   | 
15    | 74.3%   | 84.8%   | 
20    | 76.5%   | 80.0%   | 
25    | 78.2%   | 76.1%   | 
30    | 79.4%   | 73.1%   | 
35    | 80.5%   | 71.0%   | 
40    | 81.7%   | 68.5%   | 
45    | 82.0%   | 66.9%   | 
50    | 82.4%   | 65.2%   | 
55    | 82.9%   | 64.2%   | 
60    | 83.5%   | 62.6%   | 
65    | 84.0%   | 60.9%   | 
70    | 84.6%   | 59.1%   | 
75    | 84.8%   | 58.2%   | 
80    | 85.0%   | 56.8%   | ⭐
85    | 85.1%   | 56.5%   | ⭐
90    | 85.3%   | 55.3%   | ⭐
95    | 85.4%   | 54.5%   | ⭐
100   | 85.8%   | 53.4%   | ⭐
---------------------------------------------


--- TABELLA TRADE-OFF (sf_xs (Test)) ---
Tau   | Recall   | Saving   | Note
---------------------------------------------
0     | 38.4%   | 94.1%   | 
5     | 38.4%   | 94.1%   | 
10    | 39.5%   | 88.8%   | 
15    | 42.0%   | 80.5%   | 
20    | 43.8%   | 76.5%   | 
25    | 46.5%   | 71.2%   | 
30    | 48.0%   | 68.0%   | 
35    | 48.9%   | 66.2%   | 
40    | 50.3%   | 64.4%   | 
45    | 51.2%   | 63.0%   | 
50    | 52.3%   | 61.4%   | 
55    | 53.0%   | 60.3%   | 
60    | 53.8%   | 59.1%   | 
65    | 54.3%   | 58.2%   | 
70    | 55.3%   | 56.8%   | 
75    | 56.3%   | 55.2%   | 
80    | 57.2%   | 53.8%   | 
85    | 58.6%   | 52.2%   | 
90    | 60.0%   | 50.6%   | 
95    | 60.7%   | 49.6%   | ⭐
100   | 61.1%   | 48.5%   | ⭐
---------------------------------------------

--- TABELLA TRADE-OFF (Tokyo_xs (Test)) ---
Tau   | Recall   | Saving   | Note
---------------------------------------------
0     | 40.0%   | 94.1%   | 
5     | 40.3%   | 93.8%   | 
10    | 42.5%   | 86.6%   | 
15    | 50.5%   | 76.5%   | 
20    | 52.1%   | 73.2%   | 
25    | 54.0%   | 70.8%   | 
30    | 55.2%   | 69.6%   | 
35    | 56.2%   | 68.1%   | 
40    | 57.8%   | 66.0%   | 
45    | 59.0%   | 63.3%   | 
50    | 60.6%   | 61.5%   | 
55    | 61.9%   | 59.5%   | 
60    | 62.5%   | 58.3%   | 
65    | 64.8%   | 55.6%   | 
70    | 65.7%   | 54.1%   | 
75    | 66.0%   | 53.5%   | 
80    | 67.0%   | 51.7%   | 
85    | 68.3%   | 49.9%   | 
90    | 69.8%   | 48.4%   | 
95    | 71.4%   | 46.3%   | ⭐
100   | 72.1%   | 44.5%   | ⭐
---------------------------------------------


--- TABELLA TRADE-OFF (svox_night (Test)) ---
Tau   | Recall   | Saving   | Note
---------------------------------------------
0     | 35.6%   | 94.1%   | 
5     | 35.7%   | 93.7%   | 
10    | 49.6%   | 70.0%   | 
15    | 56.3%   | 59.5%   | 
20    | 58.7%   | 55.5%   | 
25    | 59.7%   | 54.3%   | 
30    | 61.2%   | 51.9%   | 
35    | 63.3%   | 49.5%   | 
40    | 64.0%   | 47.6%   | 
45    | 64.6%   | 46.2%   | 
50    | 65.4%   | 45.3%   | 
55    | 66.3%   | 43.6%   | 
60    | 67.6%   | 41.7%   | 
65    | 68.2%   | 40.8%   | 
70    | 68.8%   | 38.9%   | 
75    | 69.7%   | 37.3%   | 
80    | 70.6%   | 36.0%   | 
85    | 71.2%   | 34.7%   | 
90    | 72.2%   | 32.4%   | 
95    | 72.7%   | 31.0%   | 
100   | 73.0%   | 29.7%   | 
---------------------------------------------


--- TABELLA TRADE-OFF (svox_sun(Test)) ---
Tau   | Recall   | Saving   | Note
---------------------------------------------
0     | 48.4%   | 94.1%   | 
5     | 48.5%   | 93.9%   | 
10    | 51.6%   | 88.1%   | 
15    | 55.0%   | 82.7%   | 
20    | 57.4%   | 79.9%   | 
25    | 59.1%   | 78.0%   | 
30    | 60.0%   | 76.7%   | 
35    | 61.0%   | 75.3%   | 
40    | 62.2%   | 73.7%   | 
45    | 62.6%   | 72.6%   | 
50    | 63.2%   | 71.5%   | 
55    | 64.2%   | 70.4%   | 
60    | 65.2%   | 68.9%   | 
65    | 66.0%   | 67.4%   | 
70    | 67.2%   | 65.9%   | 
75    | 68.5%   | 63.8%   | 
80    | 69.4%   | 61.8%   | 
85    | 70.0%   | 60.7%   | 
90    | 71.5%   | 58.5%   | 
95    | 72.2%   | 57.1%   | 
100   | 73.4%   | 55.4%   | ⭐
---------------------------------------------




### 6.1 Analisi dell'Adaptive Re-ranking (Hard Thresholding)

[cite_start]**Descrizione dell'esperimento:** L'obiettivo di questa estensione è ottimizzare il bilanciamento tra accuratezza (Recall@1) ed efficienza computazionale (Processing Time)[cite: 85, 86]. [cite_start]Invece di applicare il re-ranking locale a ogni query, è stata implementata una strategia adattiva che attiva il metodo di Image Matching (LoFTR) solo quando una query è classificata come "difficile"[cite: 87]. [cite_start]Seguendo le linee guida del progetto, una query viene definita **hard** se il numero di inlier ottenuti tra la query e il primo candidato del Global Retrieval è inferiore o uguale a una soglia $\tau$[cite: 88, 89].

[cite_start]**Selezione della Soglia ($\tau$):** L'analisi è stata condotta inizialmente sui dataset di training per osservare l'andamento delle metriche al variare di $\tau \in [0, 100]$[cite: 92].
* **SVOX Night (Training):** Passando da $\tau=0$ (nessun re-ranking) a $\tau=30$, la Recall@1 è passata dal **23.6% al 53.6%** (+30%). Oltre questa soglia, i guadagni diventano marginali (solo +10% fino a $\tau=100$), a fronte di una drastica riduzione del risparmio computazionale (dal 32.4% al 14.1%).
* [cite_start]**Decisione:** È stata selezionata la soglia **$\tau = 30$**, identificata come il punto di "gomito" ottimale per massimizzare il recupero della performance minimizzando il costo[cite: 91].

**Risultati sui Dataset di Test ($\tau = 30$):**

| Dataset (Test) | Recall@1 ($\tau = 30$) | Baseline MixVPR (None) | Cost Saving (%) |
| :--- | :---: | :---: | :---: |
| **SF-XS** | 48.0% | 70.2% | 68.0% |
| **Tokyo-XS** | 55.2% | 78.1% | 69.6% |
| **SVOX Sun** | 60.0% | 85.4% | 76.7% |
| **SVOX Night** | **61.2%** | **62.9%** | **51.9%** |



**Conclusioni:** I risultati confermano l'efficacia della strategia. [cite_start]In particolare su **SVOX Night**, con $\tau=30$ si ottiene una precisione quasi identica alla baseline MixVPR (61.2% vs 62.9%) ma con un risparmio di tempo del **51.9%**[cite: 94]. [cite_start]Nei dataset urbani (SF-XS, Tokyo), il risparmio energetico sfiora il **70%**, dimostrando che il sistema è in grado di identificare correttamente quando il Global Retrieval è già sufficientemente affidabile[cite: 39, 40].